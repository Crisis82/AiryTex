\def\academica@unisep{.5em}
\def\academica@se@and{.2ex}
\def\academica@se@qual{1ex}
\def\academica@se@sep{2em}

\geometry{%
    hcentering,%
    bindingoffset=.025\paperwidth,%
    outer=.075\paperwidth,%
    nofoot,nomarginpar,%
    vdivide={.08\paperheight,*,.06\paperheight}%
}

\def\academica@spacing{\setstretch{1.3}}

\def\academica@newpagestyle#1#2{
    \@namedef{ps@#1}{
        \let\@oddfoot\@empty
        \let\@evenfoot\@empty
        \let\@mkboth\markboth
        \let\ps@plain\ps@empty%
        \@nameuse{academica@chs@#1}%
        \@nameuse{academica@pts@#1}%
        #2%
    }
}

\def\chaptermark#1{\ifnum\c@secnumdepth>\m@ne\relax\def\academica@tmpcmd{\chaptername\ \thechapter\ ---  #1}\else\let\academica@tmpcmd\@empty\fi\markboth{\academica@tmpcmd}{\academica@tmpcmd}}
\def\sectionmark#1{\markright{\ifnum\c@secnumdepth>\z@\relax\thesection\quad \fi#1}}

%\def\academica@headruledbox#1#2#3{\underline{\makebox[\textwidth]{%
%    {\small#1\bfseries#2\hfill#3}\rule[-0.5ex]{0pt}{1ex}%
%}}}
%\def\academica@defheads#1{%
%	\def\@evenhead{\academica@headrulebox{#1}\thepage\leftmark}%
%	\def\@oddhead{\academica@headrulebox{#1}\rightmark\thepage}%
%}

%\def\academica@headbox#1#2#3{\makebox[\textwidth]{%
%			{\small#1\bfseries#2\hfill#3}\rule[-0.5ex]{0pt}{1ex}%
%}}

\def\academica@defheads#1{%
	\def\@evenhead{\sffamily\small\thepage\qquad #1\leftmark\hfill}%
	\def\@oddhead{\hfill\sffamily\small #1\rightmark\qquad\thepage}%
}

\let\ps@bookplain\ps@plain

\academica@newpagestyle{plain}{\academica@defheads\relax}
\academica@newpagestyle{big}{\academica@defheads\relax}
\academica@newpagestyle{sfbig}{\academica@defheads\sffamily}

%\def\academica@declgigantic{\DeclareFontShape{T1}{cmr}{ch}{n}{<-> cmr17}{}}
%\def\academica@gigantic{\fontsize{99.45}{100\p@}\usefont{T1}{cmr}{ch}{n}}
% \def\academica@gigantic{\fontsize{99.45}{100\p@}\sffamily}


% \academica@save{@makechapterhead}
% \academica@save{@makeschapterhead}
% \long\def\academica@mkchaphdstub#1#2#3{%
%     {\parindent\z@\relax
%     \raggedleft\normalfont
%     \vspace*{30\p@}%
%     #1%% Either \iftrue or \iffalse
%         \ifnum\c@secnumdepth>\m@ne\relax
%             \if@mainmatter
%                 {\academica@gigantic\thechapter}\Huge\par\nobreak\vskip15\p@\relax%
%             \fi%
%         \fi%
%     \fi%
%     \interlinepenalty\@M\relax%
%     \Huge\bfseries#2#3\par\nobreak%
%     \vskip40\p@\relax}%
% }
% \long\def\academica@defmakechapterhead#1{
%     \def\@makechapterhead##1{\expandafter\academica@mkchaphdstub\noexpand\iftrue{#1}{##1}}
%     \def\@makeschapterhead##1{\expandafter\academica@mkchaphdstub\noexpand\iffalse{#1}{##1}}
% }
% 
% \def\academica@chs@plain{%
%     \academica@restore{@makechapterhead}
%     \academica@restore{@makeschapterhead}
% }
% \def\academica@chs@big{\academica@defmakechapterhead\relax}
% \def\academica@chs@sfbig{\academica@defmakechapterhead\sffamily}
% 
% \academica@save{@part}
% \academica@save{@spart}
% \long\def\academica@spartstub#1#2{
%     {\raggedleft
%     \interlinepenalty\@M\relax
%     \normalfont%
%     #1%% Either \iftrue or \iffalse
%         \ifnum\c@secnumdepth>-2\relax
%             \if@mainmatter
%                 {\academica@gigantic\thepart\par\relax}%
%             \fi%
%         \fi%
%     \else%
%         %\hrule\vskip20\p@
%         \relax%
%     \fi%
%     \Huge\bfseries#2\par}%
%     \@endpart%
% }
% \def\academica@defpartstub#1{
%     \def\@part[##1]##2{
%         \ifnum\c@secnumdepth>-2\relax
%             \refstepcounter{part}%
%             \addcontentsline{toc}{part}{\thepart\hspace{1em}##1}%
%         \else
%             \addcontentsline{toc}{part}{##1}%
%         \fi%
%         \markboth{}{}%
%         \expandafter\academica@spartstub\noexpand\iftrue{#1##2}%
%     }
%     \def\@spart##1{
%         \expandafter\academica@spartstub\noexpand\iffalse{#1##1}%
%     }
% }

% \def\academica@pts@plain{%
%     \academica@restore{@part}
%     \academica@restore{@spart}
% }
% \def\academica@pts@big{%
%     \academica@defpartstub\relax
% }
% \def\academica@pts@sfbig{%
%     \academica@defpartstub\sffamily
% }
% 
% \def\printindex{\InputIfFileExists{\jobname.ind}{}{\ClassWarningNoLine{\@currname}{No file \jobname.ind.}}}
% 
\newif\ifacademica@endpart
\def\maybeblank{\ifacademica@endpart\else\ifodd\c@page\@endpart\fi\fi\global\academica@endpartfalse}
% \g@addto@macro\@endpart{\global\academica@endparttrue}
% \def\academica@patchMatter#1{%
%     \academica@save{#1matter}
%     \@namedef{#1matter}{%
%         \academica@save{cleardoublepage}
%         \def\cleardoublepage{\maybeblank\academica@endparttrue}
%         \@nameuse{academica@save@#1matter}
%         \academica@restore{cleardoublepage}
%     }
% }
% \academica@patchMatter{main}
% \academica@patchMatter{back}
% \academica@save{part}
% \def\part{\maybeblank\academica@save@part}

\newcounter{academica@secnumdepth}
\newif\ifacademica@unnmkchp
\academica@save{chapter}
\def\chapter{\maybeblank\@ifplus{\academica@unnmkchptrue\academica@save@chapter}{\academica@unnmkchpfalse\academica@save@chapter}}
\academica@save{@chapter}
\def\@chapter[#1]#2{%
    \ifacademica@unnmkchp\c@academica@secnumdepth=\c@secnumdepth\relax\c@secnumdepth=-100\relax\fi%
    \academica@save@@chapter[#1]{#2}%
    \ifacademica@unnmkchp\c@secnumdepth=\c@academica@secnumdepth\relax\fi%
}
\academica@save{@schapter}
\def\@schapter#1{\academica@save@@schapter{#1\ifacademica@unnmkchp\@mkboth{#1}{#1}\fi}}

\def\abstract{\chapter+*{\abstractname}}
\def\acknowledgements{\chapter+*{\acknowledgementsname}}
\def\summary{\chapter+*{\summaryname}}
% 
\newenvironment{titlelike}[1]{
    \cleardoublepage\thispagestyle{empty}%
    \def\academica@titlelike{#1}%
    \vspace*{\z@\@plus.3fil}%
    \begin{\academica@titlelike}%
}{
    \end{\academica@titlelike}%
    \vspace*{\z@\@plus.6fil}%
    \newpage\thispagestyle{empty}%
}
% \newenvironment{approval}{\begin{titlelike}{center}}{\end{titlelike}}
\newenvironment{dedication}{\begin{titlelike}{flushright}}{\end{titlelike}}

% \def\academica@patchNoUc#1{
%     \academica@save{#1}
%     \@namedef{#1}{
%         \academica@save{MakeUppercase}
%         \let\MakeUppercase\@iden
%         \@nameuse{academica@save@#1}%
%         \academica@restore{MakeUppercase}
%     }
% }
% \def\academica@patchNoUcI#1{%
%     \academica@save{#1}
%     \@namedef{#1}##1{
%         \academica@save{MakeUppercase}
%         \let\MakeUppercase\@iden
%         \@nameuse{academica@save@#1}{##1}%
%         \academica@restore{MakeUppercase}
%     }
% }
% \academica@patchNoUc{tableofcontents}
% \academica@patchNoUc{listoffigures}
% \academica@patchNoUc{listoftables}
% \academica@patchNoUc{theindex}
% \academica@patchNoUcI{thebibliography}
% 
% \academica@save{@starttoc}
% \def\@starttoc#1{\singlespacing\academica@save@@starttoc{#1}\academica@spacing}

% \let\oldmainmatter\mainmatter
% \renewcommand{\mainmatter}{\clearpage\addtocounter{page}{-1}\oldmainmatter}

\def\maketitle{
    \begin{titlepage}%
        \noindent%
        \begin{minipage}[t][\textheight][s]{.99\linewidth}%
        	\sffamily
            \let\footnotesize\small
            \let\footnoterule\relax
            {\academica@banner}%
            \begin{center}%
                {\Huge\bfseries\@title\par}
                \vskip 5em\@plus1fill\relax%
                {\large%
                    \parbox[t]{.4\linewidth}{%
                        \let\academica@candidate\@author
                        \academica@showentry*{candidate}%
                    }%
                    \qquad%
                    \parbox[t]{.4\linewidth}{%
                        \academica@showentry{supervisor}%
                        \academica@showentry{cosupervisor}%
                        \academica@showentry{tutor}%
                        \academica@showentry{reviewer}%
                    }%
                }
                \par\vskip 1em\@plus1fill\relax%
                {\large\@date}\par
            \end{center}%
        \end{minipage}%
    \end{titlepage}
    \thispagestyle{empty}%
    \setcounter{footnote}{0}
    {\parindent\z@\relax%
        \textsc{\institutecontactsname}\\\academica@uniud\par%
        \ifx\academica@contacts\@empty\else\vskip2em\relax\textsc{\authorcontactsname}\\\academica@contacts\par\fi%
        \ifx\academica@rights\@empty\else\vfill\academica@rights\par\fi%
     }%
    \academica@spacing%
    \let\thanks\relax\let\maketitle\relax
}

\AtBeginDocument{%
    \pagestyle{sfbig}%
    %\frontmatter%
}
